{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\The-Amazing-App\\\\web-app\\\\src\\\\Components\\\\DashBoard\\\\DashBoardHomeMap\\\\DashHomeMap.js\";\nimport React from \"react\";\nimport mapboxgl from \"mapbox-gl\";\nimport \"@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css\";\nimport \"../styles.css\";\nmapboxgl.accessToken = \"pk.eyJ1IjoidGFwZWhuZGhsb3Z1IiwiYSI6ImNrYmV2eTRhdDBwbXUydHA4eTl6cW5neDMifQ.BVjVIq7FUmlnMZJC_BvRDQ\";\nlet slideLat = 0;\nlet slideLong = 0;\n\nclass DashHomeMap extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      lng: 28.229271,\n      lat: -25.747868,\n      zoom: 10\n    };\n    this.mapContainer = React.createRef();\n  }\n\n  componentDidMount() {\n    const map = new mapboxgl.Map({\n      container: this.mapContainer.current,\n      style: \"mapbox://styles/mapbox/streets-v11\",\n      center: [this.state.lng, this.state.lat],\n      zoom: this.state.zoom\n    });\n    let title = document.getElementById(\"location-title\");\n    let description = document.getElementById(\"location-description\");\n    let locations = [{\n      title: \"Octopus\",\n      description: \"Octopus is a game where you need to solve riddles about plants and animals that live in water.\",\n      camera: {\n        center: [28.2441, -25.7792],\n        zoom: 14.21,\n        pitch: 50\n      }\n    }, {\n      title: \"Detective\",\n      description: \"Play the detective role by solving riddles related to a crime that had recently happened.\",\n      camera: {\n        center: [28.203, -25.7453],\n        bearing: 25.3,\n        zoom: 14.5\n      }\n    }];\n\n    function playback(index) {\n      title.textContent = locations[index].title;\n      description.textContent = locations[index].description;\n      slideLong = locations[index].camera.center[0];\n      slideLat = locations[index].camera.center[1];\n      let marker = new mapboxgl.Marker().setLngLat([slideLong, slideLat]).addTo(map);\n      map.flyTo(locations[index].camera);\n      map.once(\"moveend\", () => {\n        window.setTimeout(function () {\n          //move to the next one\n          index = index + 1 === locations.length ? 0 : index + 1;\n          marker.remove();\n          playback(index);\n        }, 10000); //3 seconds.\n      });\n    }\n\n    title.textContent = locations[locations.length - 1].title;\n    description.textContent = locations[locations.length - 1].description;\n    map.on(\"load\", () => {\n      playback(0);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.mapContainer,\n      className: \"mapContainer\",\n      id: \"mapp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"map-overlay-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"map-overlay\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      id: \"location-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      id: \"location-description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nexport default DashHomeMap;","map":{"version":3,"sources":["C:/Users/User/Documents/GitHub/The-Amazing-App/web-app/src/Components/DashBoard/DashBoardHomeMap/DashHomeMap.js"],"names":["React","mapboxgl","accessToken","slideLat","slideLong","DashHomeMap","Component","constructor","props","state","lng","lat","zoom","mapContainer","createRef","componentDidMount","map","Map","container","current","style","center","title","document","getElementById","description","locations","camera","pitch","bearing","playback","index","textContent","marker","Marker","setLngLat","addTo","flyTo","once","window","setTimeout","length","remove","on","render"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport mapboxgl from \"mapbox-gl\";\r\nimport \"@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css\";\r\nimport \"../styles.css\";\r\n\r\nmapboxgl.accessToken =\r\n  \"pk.eyJ1IjoidGFwZWhuZGhsb3Z1IiwiYSI6ImNrYmV2eTRhdDBwbXUydHA4eTl6cW5neDMifQ.BVjVIq7FUmlnMZJC_BvRDQ\";\r\nlet slideLat = 0;\r\nlet slideLong = 0;\r\n\r\nclass DashHomeMap extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      lng: 28.229271,\r\n      lat: -25.747868,\r\n      zoom: 10,\r\n    };\r\n    this.mapContainer = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    const map = new mapboxgl.Map({\r\n      container: this.mapContainer.current,\r\n      style: \"mapbox://styles/mapbox/streets-v11\",\r\n      center: [this.state.lng, this.state.lat],\r\n      zoom: this.state.zoom,\r\n    });\r\n\r\n    let title = document.getElementById(\"location-title\");\r\n    let description = document.getElementById(\"location-description\");\r\n\r\n    let locations = [\r\n      {\r\n        title: \"Octopus\",\r\n        description:\r\n          \"Octopus is a game where you need to solve riddles about plants and animals that live in water.\",\r\n        camera: {\r\n          center: [28.2441, -25.7792],\r\n          zoom: 14.21,\r\n          pitch: 50,\r\n        },\r\n      },\r\n      {\r\n        title: \"Detective\",\r\n        description:\r\n          \"Play the detective role by solving riddles related to a crime that had recently happened.\",\r\n        camera: {\r\n          center: [28.203, -25.7453],\r\n          bearing: 25.3,\r\n          zoom: 14.5,\r\n        },\r\n      },\r\n    ];\r\n\r\n    function playback(index) {\r\n      title.textContent = locations[index].title;\r\n      description.textContent = locations[index].description;\r\n      slideLong = locations[index].camera.center[0];\r\n      slideLat = locations[index].camera.center[1];\r\n\r\n      let marker = new mapboxgl.Marker()\r\n        .setLngLat([slideLong, slideLat])\r\n        .addTo(map);\r\n      map.flyTo(locations[index].camera);\r\n      map.once(\"moveend\", () => {\r\n        window.setTimeout(function () {\r\n          //move to the next one\r\n          index = index + 1 === locations.length ? 0 : index + 1;\r\n          marker.remove();\r\n          playback(index);\r\n        }, 10000); //3 seconds.\r\n      });\r\n    }\r\n\r\n    title.textContent = locations[locations.length - 1].title;\r\n    description.textContent = locations[locations.length - 1].description;\r\n\r\n    map.on(\"load\", () => {\r\n      playback(0);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div ref={this.mapContainer} className=\"mapContainer\" id=\"mapp\"></div>\r\n        <div class=\"map-overlay-container\">\r\n          <div class=\"map-overlay\">\r\n            <h4 id=\"location-title\"></h4>\r\n            <p id=\"location-description\"></p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DashHomeMap;\r\n"]},"metadata":{},"sourceType":"module"}