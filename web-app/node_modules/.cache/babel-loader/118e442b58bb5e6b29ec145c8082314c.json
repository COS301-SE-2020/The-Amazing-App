{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\The-Amazing-App\\\\web-app\\\\src\\\\Components\\\\Login\\\\SignIn.js\";\nimport React, { useState } from \"react\";\nimport { Button, Form, Grid, Message, Segment } from \"semantic-ui-react\";\nimport image from \"../../Assets/logo.png\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { signup, signin, resetPassword } from \"../../store/actions/auth\";\nimport useForm from \"../utils/useForm\";\nimport validate from \"../utils/validateLoginForm\";\n\nconst Login = ({\n  signup,\n  signin,\n  resetPassword,\n  authMsg,\n  history,\n  loading\n}) => {\n  const [newUser, setNewUser] = useState(false);\n  const [reset, SetReset] = useState(false);\n  const [credentials, handleChange, handleSubmit, errors] = useForm(login, validate, reset);\n\n  function login() {\n    if (newUser) {\n      // signup\n      signup(credentials.email, credentials.password);\n    } else {\n      if (reset) {\n        // reset password\n        resetPassword(credentials.email);\n      } else {\n        // signin\n        signin(credentials.email, credentials.password, () => history.push(\"/\"));\n      }\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, reset ? \"Reset password\" : newUser ? \"Create an account\" : \"Sign in\"), authMsg && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"auth-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 19\n    }\n  }, authMsg), /*#__PURE__*/React.createElement(Grid, {\n    textAlign: \"center\",\n    style: {\n      height: \"100vh\"\n    },\n    verticalAlign: \"middle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid.Column, {\n    style: {\n      maxWidth: 450\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    size: \"medium\",\n    onSubmit: handleSubmit,\n    noValidate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Segment, {\n    stacked: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      alignItems: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: image,\n    style: {\n      width: 130,\n      height: 130,\n      alignSelf: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Input, {\n    fluid: true,\n    icon: \"envelope\",\n    type: \"email\",\n    name: \"email\",\n    iconPosition: \"left\",\n    placeholder: \"E-mail address\",\n    id: \"useremail\",\n    value: credentials.email,\n    onChange: handleChange,\n    className: (errors.emailIsEmpty || errors.emailFormatInvalid) && \"input-error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }), errors.emailIsEmpty && /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 39\n    }\n  }, errors.emailIsEmpty), errors.emailFormatInvalid && /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, errors.emailFormatInvalid), !reset && /*#__PURE__*/React.createElement(Form.Input, {\n    fluid: true,\n    icon: \"lock\",\n    iconPosition: \"left\",\n    placeholder: \"Password\",\n    name: \"password\",\n    value: credentials.password,\n    type: \"password\",\n    id: \"userpassword\",\n    onChange: e => this.setState({\n      password: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    id: \"loginbtn\",\n    fluid: true,\n    color: \"teal\",\n    size: \"medium\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Message, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, \"Don't have an account ?\", /*#__PURE__*/React.createElement(Link, {\n    to: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 40\n    }\n  }, \" Register\")))))));\n};\n\nclass SignIn extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: \"\",\n      pasword: \"\",\n      err: \"\"\n    };\n\n    this.onFormSubmit = event => {\n      event.preventDefault();\n      const data = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      this.props.signIn(data);\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Grid, {\n      textAlign: \"center\",\n      style: {\n        height: \"100vh\"\n      },\n      verticalAlign: \"middle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Grid.Column, {\n      style: {\n        maxWidth: 450\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      size: \"medium\",\n      onSubmit: this.onFormSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Segment, {\n      stacked: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        alignItems: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: image,\n      style: {\n        width: 130,\n        height: 130,\n        alignSelf: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Form.Input, {\n      fluid: true,\n      icon: \"envelope\",\n      type: \"email\",\n      iconPosition: \"left\",\n      placeholder: \"E-mail address\",\n      id: \"useremail\",\n      onChange: e => this.setState({\n        email: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Form.Input, {\n      fluid: true,\n      icon: \"lock\",\n      iconPosition: \"left\",\n      placeholder: \"Password\",\n      type: \"password\",\n      id: \"userpassword\",\n      onChange: e => this.setState({\n        password: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      id: \"loginbtn\",\n      fluid: true,\n      color: \"teal\",\n      size: \"medium\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 15\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(Message, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 15\n      }\n    }, \"Don't have an account ?\", /*#__PURE__*/React.createElement(Link, {\n      to: \"/signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 40\n      }\n    }, \" Register\"))))));\n  }\n\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    signIn: (creds, callback) => dispatch(signIn(creds, callback()))\n  };\n}\n\nexport default connect(null, mapDispatchToProps)(SignIn);","map":{"version":3,"sources":["C:/Users/User/Documents/GitHub/The-Amazing-App/web-app/src/Components/Login/SignIn.js"],"names":["React","useState","Button","Form","Grid","Message","Segment","image","Link","connect","signup","signin","resetPassword","useForm","validate","Login","authMsg","history","loading","newUser","setNewUser","reset","SetReset","credentials","handleChange","handleSubmit","errors","login","email","password","push","height","maxWidth","alignItems","width","alignSelf","emailIsEmpty","emailFormatInvalid","e","setState","target","value","SignIn","Component","state","pasword","err","onFormSubmit","event","preventDefault","data","props","signIn","render","mapDispatchToProps","dispatch","creds","callback"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Button, Form, Grid, Message, Segment } from \"semantic-ui-react\";\r\nimport image from \"../../Assets/logo.png\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { signup, signin, resetPassword } from \"../../store/actions/auth\";\r\nimport useForm from \"../utils/useForm\";\r\nimport validate from \"../utils/validateLoginForm\";\r\n\r\nconst Login = ({\r\n  signup,\r\n  signin,\r\n  resetPassword,\r\n  authMsg,\r\n  history,\r\n  loading,\r\n}) => {\r\n  const [newUser, setNewUser] = useState(false);\r\n  const [reset, SetReset] = useState(false);\r\n  const [credentials, handleChange, handleSubmit, errors] = useForm(\r\n    login,\r\n    validate,\r\n    reset\r\n  );\r\n\r\n  function login() {\r\n    if (newUser) {\r\n      // signup\r\n      signup(credentials.email, credentials.password);\r\n    } else {\r\n      if (reset) {\r\n        // reset password\r\n        resetPassword(credentials.email);\r\n      } else {\r\n        // signin\r\n        signin(credentials.email, credentials.password, () =>\r\n          history.push(\"/\")\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <h2>\r\n        {reset ? \"Reset password\" : newUser ? \"Create an account\" : \"Sign in\"}\r\n      </h2>\r\n      {authMsg && <p className=\"auth-message\">{authMsg}</p>}\r\n      <Grid\r\n        textAlign=\"center\"\r\n        style={{ height: \"100vh\" }}\r\n        verticalAlign=\"middle\"\r\n      >\r\n        <Grid.Column style={{ maxWidth: 450 }}>\r\n          <Form size=\"medium\" onSubmit={handleSubmit} noValidate>\r\n            <Segment stacked>\r\n              <div style={{ alignItems: \"center\" }}>\r\n                <img\r\n                  src={image}\r\n                  style={{ width: 130, height: 130, alignSelf: \"center\" }}\r\n                />\r\n              </div>\r\n              <Form.Input\r\n                fluid\r\n                icon=\"envelope\"\r\n                type=\"email\"\r\n                name=\"email\"\r\n                iconPosition=\"left\"\r\n                placeholder=\"E-mail address\"\r\n                id=\"useremail\"\r\n                value={credentials.email}\r\n                onChange={handleChange}\r\n                className={\r\n                  (errors.emailIsEmpty || errors.emailFormatInvalid) &&\r\n                  \"input-error\"\r\n                }\r\n              />\r\n              {errors.emailIsEmpty && <small>{errors.emailIsEmpty}</small>}\r\n              {errors.emailFormatInvalid && (\r\n                <small>{errors.emailFormatInvalid}</small>\r\n              )}\r\n\r\n              {!reset && (\r\n                <Form.Input\r\n                  fluid\r\n                  icon=\"lock\"\r\n                  iconPosition=\"left\"\r\n                  placeholder=\"Password\"\r\n                  name=\"password\"\r\n                  value={credentials.password}\r\n                  type=\"password\"\r\n                  id=\"userpassword\"\r\n                  onChange={(e) => this.setState({ password: e.target.value })}\r\n                />\r\n              )}\r\n\r\n              <Button id=\"loginbtn\" fluid color=\"teal\" size=\"medium\">\r\n                Login\r\n              </Button>\r\n              <Message>\r\n                Don't have an account ?<Link to=\"/signup\"> Register</Link>\r\n              </Message>\r\n            </Segment>\r\n          </Form>\r\n        </Grid.Column>\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\nclass SignIn extends React.Component {\r\n  state = { email: \"\", pasword: \"\", err: \"\" };\r\n  onFormSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const data = {\r\n      email: this.state.email,\r\n      password: this.state.password,\r\n    };\r\n\r\n    this.props.signIn(data);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Grid\r\n        textAlign=\"center\"\r\n        style={{ height: \"100vh\" }}\r\n        verticalAlign=\"middle\"\r\n      >\r\n        <Grid.Column style={{ maxWidth: 450 }}>\r\n          <Form size=\"medium\" onSubmit={this.onFormSubmit}>\r\n            <Segment stacked>\r\n              <div style={{ alignItems: \"center\" }}>\r\n                <img\r\n                  src={image}\r\n                  style={{ width: 130, height: 130, alignSelf: \"center\" }}\r\n                />\r\n              </div>\r\n              <Form.Input\r\n                fluid\r\n                icon=\"envelope\"\r\n                type=\"email\"\r\n                iconPosition=\"left\"\r\n                placeholder=\"E-mail address\"\r\n                id=\"useremail\"\r\n                onChange={(e) => this.setState({ email: e.target.value })}\r\n              />\r\n              <Form.Input\r\n                fluid\r\n                icon=\"lock\"\r\n                iconPosition=\"left\"\r\n                placeholder=\"Password\"\r\n                type=\"password\"\r\n                id=\"userpassword\"\r\n                onChange={(e) => this.setState({ password: e.target.value })}\r\n              />\r\n\r\n              <Button id=\"loginbtn\" fluid color=\"teal\" size=\"medium\">\r\n                Login\r\n              </Button>\r\n              <Message>\r\n                Don't have an account ?<Link to=\"/signup\"> Register</Link>\r\n              </Message>\r\n            </Segment>\r\n          </Form>\r\n        </Grid.Column>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    signIn: (creds, callback) => dispatch(signIn(creds, callback())),\r\n  };\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(SignIn);\r\n"]},"metadata":{},"sourceType":"module"}